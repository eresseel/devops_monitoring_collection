
[Unit]
Description=Prometheus
Wants=network-online.target
After=network.target

[Service]
Type=simple
EnvironmentFile=/etc/default/prometheus
PIDFile=/var/run/prometheus.pid
User={{ prometheus_user }}
Group={{ prometheus_group }}
ExecReload=/bin/kill -HUP $MAINPID
ExecStart={{ prometheus_bin_dir }}/prometheus {% for flag, flag_value in prometheus_config_flags.items() %}--{{ flag }}={{ flag_value }} {% endfor %} {% for flag, flag_value in prometheus_config_flags_extra.items() %}--{{ flag }}={{ flag_value }} {% endfor %}

SyslogIdentifier=prometheus
Restart=always

[Install]
WantedBy=multi-user.target